{"ast":null,"code":"var _jsxFileName = \"/Users/ardisred/Workspace/samples4singles/s4s-frontend/src/components/friends/Friend.js\";\nimport React, { useContext, useEffect } from \"react\";\nimport \"../sample/Samples.css\";\nimport { Link } from \"react-router-dom\";\nimport { SampleContext } from \"../sample/SampleProvider\";\nexport const Sample = ({\n  sample\n}) => {\n  const {\n    getUserFriends,\n    addUserFriends,\n    releaseUserFriends,\n    userFriends\n  } = useContext(SampleContext);\n  const currentUser = parseInt(localStorage.getItem(\"customer\"));\n  let thisUserFriends = userFriends.filter(friends => friends.userId === parseInt(localStorage.getItem(\"customer\")));\n  let foundFriend = thisUserFriends.find(friend => friend.friendId === sample.id);\n\n  if (foundFriend === undefined) {\n    foundFriend = false;\n  }\n\n  const isFriends = foundFriend.userId === currentUser || foundFriend.friendId === currentUser;\n\n  const addFriend = () => {\n    addUserFriends({\n      userId: parseInt(localStorage.getItem(\"customer\")),\n      friendId: sample.id\n    }).then(getUserFriends);\n  };\n\n  const removeFriend = () => {\n    releaseUserFriends(foundFriend.id).then(getUserFriends);\n  };\n\n  useEffect(() => {\n    getUserFriends();\n  }, [isFriends]);\n\n  if (isFriends) {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      class: \"friendCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/browse/${sample.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }\n    }, sample.name)), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button2\",\n      onClick: removeFriend,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, \"Add Friend\"));\n  } else {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      class: \"friendCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/browse/${sample.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, sample.name)), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button5\",\n      onClick: addFriend,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, \"Remove Friend\"));\n  }\n};","map":{"version":3,"sources":["/Users/ardisred/Workspace/samples4singles/s4s-frontend/src/components/friends/Friend.js"],"names":["React","useContext","useEffect","Link","SampleContext","Sample","sample","getUserFriends","addUserFriends","releaseUserFriends","userFriends","currentUser","parseInt","localStorage","getItem","thisUserFriends","filter","friends","userId","foundFriend","find","friend","friendId","id","undefined","isFriends","addFriend","then","removeFriend","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,OAAO,uBAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,aAAT,QAA8B,0BAA9B;AAEA,OAAO,MAAMC,MAAM,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAc;AAChC,QAAM;AAACC,IAAAA,cAAD;AAAiBC,IAAAA,cAAjB;AAAiCC,IAAAA,kBAAjC;AAAqDC,IAAAA;AAArD,MAAoET,UAAU,CAACG,aAAD,CAApF;AACA,QAAMO,WAAW,GAAGC,QAAQ,CAACC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAD,CAA5B;AACA,MAAIC,eAAe,GAAGL,WAAW,CAACM,MAAZ,CAAmBC,OAAO,IAAIA,OAAO,CAACC,MAAR,KAAmBN,QAAQ,CAACC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAD,CAAzD,CAAtB;AACA,MAAIK,WAAW,GAAGJ,eAAe,CAACK,IAAhB,CAAqBC,MAAM,IAAIA,MAAM,CAACC,QAAP,KAAoBhB,MAAM,CAACiB,EAA1D,CAAlB;;AACA,MAAIJ,WAAW,KAAKK,SAApB,EAA+B;AAACL,IAAAA,WAAW,GAAG,KAAd;AAAoB;;AACpD,QAAMM,SAAS,GAAGN,WAAW,CAACD,MAAZ,KAAuBP,WAAvB,IAAsCQ,WAAW,CAACG,QAAZ,KAAyBX,WAAjF;;AACA,QAAMe,SAAS,GAAG,MAAM;AACpBlB,IAAAA,cAAc,CAAC;AACXU,MAAAA,MAAM,EAAEN,QAAQ,CAACC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAD,CADL;AAEXQ,MAAAA,QAAQ,EAAEhB,MAAM,CAACiB;AAFN,KAAD,CAAd,CAGGI,IAHH,CAGQpB,cAHR;AAIH,GALD;;AAMA,QAAMqB,YAAY,GAAG,MAAM;AACvBnB,IAAAA,kBAAkB,CAACU,WAAW,CAACI,EAAb,CAAlB,CAAmCI,IAAnC,CAAwCpB,cAAxC;AACH,GAFD;;AAIAL,EAAAA,SAAS,CAAC,MAAM;AACZK,IAAAA,cAAc;AACjB,GAFQ,EAEN,CAACkB,SAAD,CAFM,CAAT;;AAIA,MAAIA,SAAJ,EAAc;AACN,wBAAO;AAAS,MAAA,KAAK,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAG,WAAUnB,MAAM,CAACiB,EAAG,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCjB,MAAM,CAACuB,IAA1C,CAAJ,CAFG,eAGH;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAED,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHG,CAAP;AAKP,GAND,MAOI;AACA,wBAAO;AAAS,MAAA,KAAK,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAG,WAAUtB,MAAM,CAACiB,EAAG,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCjB,MAAM,CAACuB,IAA1C,CAAJ,CAFO,eAGP;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAEH,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHO,CAAP;AAKH;AACJ,CAnCM","sourcesContent":["import React, { useContext, useEffect } from \"react\"\nimport \"../sample/Samples.css\"\nimport { Link } from \"react-router-dom\"\nimport { SampleContext } from \"../sample/SampleProvider\"\n\nexport const Sample = ({sample}) => {\n    const {getUserFriends, addUserFriends, releaseUserFriends, userFriends} = useContext(SampleContext)\n    const currentUser = parseInt(localStorage.getItem(\"customer\"))\n    let thisUserFriends = userFriends.filter(friends => friends.userId === parseInt(localStorage.getItem(\"customer\")))\n    let foundFriend = thisUserFriends.find(friend => friend.friendId === sample.id)\n    if (foundFriend === undefined) {foundFriend = false}\n    const isFriends = foundFriend.userId === currentUser || foundFriend.friendId === currentUser\n    const addFriend = () => {\n        addUserFriends({\n            userId: parseInt(localStorage.getItem(\"customer\")),\n            friendId: sample.id\n        }).then(getUserFriends)\n    }\n    const removeFriend = () => {\n        releaseUserFriends(foundFriend.id).then(getUserFriends)\n    }\n\n    useEffect(() => {\n        getUserFriends()\n    }, [isFriends])\n\n    if (isFriends){\n            return <section class=\"friendCard\">\n\n                <h3><Link to={`/browse/${sample.id}`}>{sample.name}</Link></h3>\n                <button class=\"button2\" onClick={removeFriend}>Add Friend</button>\n            </section>\n    }\n    else{\n        return <section class=\"friendCard\">\n\n        <h3><Link to={`/browse/${sample.id}`}>{sample.name}</Link></h3>\n        <button class=\"button5\" onClick={addFriend}>Remove Friend</button>\n    </section>\n    }\n}"]},"metadata":{},"sourceType":"module"}