{"ast":null,"code":"var _jsxFileName = \"/Users/ardisred/Workspace/samples4singles/s4s-frontend/src/components/sample/SampleDetail.js\";\n// Organized\nimport React, { useContext, useEffect, useState, useRef } from \"react\";\nimport Rating from '@material-ui/lab/Rating';\nimport { SampleContext } from \"../sample/SampleProvider\";\nimport AudioPlayer from 'react-h5-audio-player';\nimport { Link } from \"react-router-dom\";\nimport \"./Samples.css\";\nimport WaveSurfer from \"wavesurfer.js\";\nimport 'react-h5-audio-player/lib/styles.css';\nimport { HexColorPicker } from \"react-colorful\";\nimport \"react-colorful/dist/index.css\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Divider, Avatar, Grid, Paper } from \"@material-ui/core\";\nexport const SampleDetails = props => {\n  const [rSampleItem, setRSampleValue] = useState(0);\n  const [value, setValue] = useState(null);\n  const [volume, setVolume] = useState(null);\n  const [currentSample, setCurrentSample] = useState({});\n  const [noneLeft, setNoneLeft] = useState(false);\n  const [zeroed, setZeroed] = useState(false);\n  const [itemsLeftToShow, setitemsLeftToShow] = useState([]);\n  const [color, setColor] = useState(\"#aabbcc\");\n  const waveformRef = useRef(null);\n  const contentRef = useRef(\"\");\n  const {\n    favorites,\n    getUsers,\n    getFavorites,\n    getRandomSample,\n    randomSample,\n    skipped,\n    addRatings,\n    getRatings,\n    singleSample,\n    ratings,\n    getSkipped,\n    addComment,\n    randomSamplesLoaded,\n    getSampleById\n  } = useContext(SampleContext);\n  useEffect(() => {\n    waveformRef.current = WaveSurfer.create({\n      container: waveformRef.current,\n      cursorColor: \"transparent\",\n      backgroundColor: \"black\"\n    });\n    waveformRef.current.load('http://ia902606.us.archive.org/35/items/shortpoetry_047_librivox/song_cjrg_teasdale_64kb.mp3');\n    waveformRef.current.setWaveColor(color);\n  }, []);\n  useEffect(() => {\n    waveformRef.current.setWaveColor(color);\n  }, [color]);\n\n  function comparer(otherArray) {\n    return function (current) {\n      return otherArray.filter(function (other) {\n        return other.sample_id == current.id;\n      }).length == 0;\n    };\n  }\n\n  const addThisComment = () => {\n    addComment({\n      sample: singleSample.id,\n      content: contentRef.current.value,\n      date_added: \"\"\n    });\n  };\n\n  useEffect(() => {\n    let sampleId = parseInt(props.match.params.sampleId);\n    getUsers().then(getSkipped).then(getFavorites).then(getSampleById(sampleId));\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"sampleContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    class: \"img\",\n    src: singleSample.sample_image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"link_card button4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/browse/${singleSample.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 48\n    }\n  }, singleSample.name)), /*#__PURE__*/React.createElement(\"div\", {\n    ref: waveformRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(AudioPlayer, {\n    autoPlayAfterSrcChange: false,\n    src: singleSample.audio_url,\n    onPlay: e => console.log(\"onPlay\"),\n    onVolumeChange: e => setVolume(e.target.volume),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    ref: contentRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      addThisComment();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Submit Comment\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 14\n    },\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, \"Comments\"), /*#__PURE__*/React.createElement(Paper, {\n    style: {\n      padding: \"40px 20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    wrap: \"nowrap\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    alt: \"Remy Sharp\",\n    src: singleSample.sample_image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    justifyContent: \"left\",\n    item: true,\n    xs: true,\n    zeroMinWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      margin: 0,\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Michel Michel\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean luctus ut est sed faucibus. Duis bibendum ac ex vehicula laoreet. Suspendisse congue vulputate lobortis. Pellentesque at interdum tortor. Quisque arcu quam, malesuada vel mauris et, posuere sagittis ipsum. Aliquam ultricies a ligula nec faucibus. In elit metus, efficitur lobortis nisi quis, molestie porttitor metus. Pellentesque et neque risus. Aliquam vulputate, mauris vitae tincidunt interdum, mauris mi vehicula urna, nec feugiat quam lectus vitae ex.\", \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: \"left\",\n      color: \"gray\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, \"posted 1 minute ago\"))), /*#__PURE__*/React.createElement(Divider, {\n    variant: \"fullWidth\",\n    style: {\n      margin: \"30px 0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    wrap: \"nowrap\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    alt: \"Remy Sharp\",\n    src: singleSample.sample_image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    justifyContent: \"left\",\n    item: true,\n    xs: true,\n    zeroMinWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      margin: 0,\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, \"Michel Michel\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean luctus ut est sed faucibus. Duis bibendum ac ex vehicula laoreet. Suspendisse congue vulputate lobortis. Pellentesque at interdum tortor. Quisque arcu quam, malesuada vel mauris et, posuere sagittis ipsum. Aliquam ultricies a ligula nec faucibus. In elit metus, efficitur lobortis nisi quis, molestie porttitor metus. Pellentesque et neque risus. Aliquam vulputate, mauris vitae tincidunt interdum, mauris mi vehicula urna, nec feugiat quam lectus vitae ex.\", \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: \"left\",\n      color: \"gray\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, \"posted 1 minute ago\"))))));\n};","map":{"version":3,"sources":["/Users/ardisred/Workspace/samples4singles/s4s-frontend/src/components/sample/SampleDetail.js"],"names":["React","useContext","useEffect","useState","useRef","Rating","SampleContext","AudioPlayer","Link","WaveSurfer","HexColorPicker","TextField","Button","Divider","Avatar","Grid","Paper","SampleDetails","props","rSampleItem","setRSampleValue","value","setValue","volume","setVolume","currentSample","setCurrentSample","noneLeft","setNoneLeft","zeroed","setZeroed","itemsLeftToShow","setitemsLeftToShow","color","setColor","waveformRef","contentRef","favorites","getUsers","getFavorites","getRandomSample","randomSample","skipped","addRatings","getRatings","singleSample","ratings","getSkipped","addComment","randomSamplesLoaded","getSampleById","current","create","container","cursorColor","backgroundColor","load","setWaveColor","comparer","otherArray","filter","other","sample_id","id","length","addThisComment","sample","content","date_added","sampleId","parseInt","match","params","then","sample_image","name","audio_url","e","console","log","target","padding","margin","textAlign"],"mappings":"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","sourcesContent":["// Organized\nimport React, { useContext, useEffect, useState, useRef } from \"react\"\nimport Rating from '@material-ui/lab/Rating';\nimport { SampleContext } from \"../sample/SampleProvider\"\nimport AudioPlayer from 'react-h5-audio-player'\nimport { Link } from \"react-router-dom\"\nimport \"./Samples.css\"\nimport WaveSurfer from \"wavesurfer.js\";\nimport 'react-h5-audio-player/lib/styles.css'\nimport { HexColorPicker } from \"react-colorful\";\nimport \"react-colorful/dist/index.css\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Divider, Avatar, Grid, Paper } from \"@material-ui/core\";\n\n\nexport const SampleDetails = (props) => {\n\n    const [rSampleItem, setRSampleValue] = useState(0)\n    const [value, setValue] = useState(null)\n    const [volume, setVolume] = useState(null)\n    const [currentSample, setCurrentSample] = useState({})\n    const [noneLeft, setNoneLeft] = useState(false)\n    const [zeroed, setZeroed] = useState(false)\n    const [itemsLeftToShow, setitemsLeftToShow] = useState([])\n    const [color, setColor] = useState(\"#aabbcc\");\n\n    const waveformRef = useRef(null);\n    const contentRef = useRef(\"\")\n\n    const { favorites,\n        getUsers,\n        getFavorites,\n        getRandomSample,\n        randomSample,\n        skipped,\n        addRatings,\n        getRatings,\n        singleSample,\n        ratings,\n        getSkipped,\n        addComment,\n        randomSamplesLoaded,\n        getSampleById,\n    } = useContext(SampleContext)\n\n    useEffect(() => {\n        waveformRef.current = WaveSurfer.create({ \n          container: waveformRef.current,\n          cursorColor: \"transparent\",\n          backgroundColor: \"black\"\n        });\n        waveformRef.current.load('http://ia902606.us.archive.org/35/items/shortpoetry_047_librivox/song_cjrg_teasdale_64kb.mp3')\n        waveformRef.current.setWaveColor(color)\n      }, []);\n\n      useEffect(() => {\n        waveformRef.current.setWaveColor(color)\n      }, [color]);\n\n    function comparer(otherArray) {\n        return function (current) {\n            return otherArray.filter(function (other) {\n                return other.sample_id == current.id\n            }).length == 0\n        }\n    }\n\n    const addThisComment = () => {\n        addComment({\n            sample: singleSample.id,\n            content: contentRef.current.value,\n            date_added: \"\",\n        })\n    }\n    useEffect(() => {\n        let sampleId = parseInt(props.match.params.sampleId)\n        getUsers().then(getSkipped).then(getFavorites).then(getSampleById(sampleId))\n    }, [])\n\n        return (\n            <>\n            <div class=\"sampleContainer\">\n            <img class=\"img\" src={singleSample.sample_image}></img>\n                <div class=\"link_card button4\"><Link to={`/browse/${singleSample.id}`}>{singleSample.name}</Link></div>\n                <div ref={waveformRef} />\n                <AudioPlayer\n                    autoPlayAfterSrcChange={false}\n                    src={singleSample.audio_url}\n                    onPlay={e => console.log(\"onPlay\")}\n                    onVolumeChange={e => setVolume(e.target.volume)} />\n            <TextField ref={contentRef}></TextField>\n            <Button onClick={() => { addThisComment() }}>Submit Comment</Button>\n            </div>\n            <div style={{ padding: 14 }} className=\"App\">\n      <h1>Comments</h1>\n      <Paper style={{ padding: \"40px 20px\" }}>\n        <Grid container wrap=\"nowrap\" spacing={2}>\n          <Grid item>\n            <Avatar alt=\"Remy Sharp\" src={singleSample.sample_image} />\n          </Grid>\n          <Grid justifyContent=\"left\" item xs zeroMinWidth>\n            <h4 style={{ margin: 0, textAlign: \"left\" }}>Michel Michel</h4>\n            <p style={{ textAlign: \"left\" }}>\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean\n              luctus ut est sed faucibus. Duis bibendum ac ex vehicula laoreet.\n              Suspendisse congue vulputate lobortis. Pellentesque at interdum\n              tortor. Quisque arcu quam, malesuada vel mauris et, posuere\n              sagittis ipsum. Aliquam ultricies a ligula nec faucibus. In elit\n              metus, efficitur lobortis nisi quis, molestie porttitor metus.\n              Pellentesque et neque risus. Aliquam vulputate, mauris vitae\n              tincidunt interdum, mauris mi vehicula urna, nec feugiat quam\n              lectus vitae ex.{\" \"}\n            </p>\n            <p style={{ textAlign: \"left\", color: \"gray\" }}>\n              posted 1 minute ago\n            </p>\n          </Grid>\n        </Grid>\n        <Divider variant=\"fullWidth\" style={{ margin: \"30px 0\" }} />\n        <Grid container wrap=\"nowrap\" spacing={2}>\n          <Grid item>\n            <Avatar alt=\"Remy Sharp\" src={singleSample.sample_image} />\n          </Grid>\n          <Grid justifyContent=\"left\" item xs zeroMinWidth>\n            <h4 style={{ margin: 0, textAlign: \"left\" }}>Michel Michel</h4>\n            <p style={{ textAlign: \"left\" }}>\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean\n              luctus ut est sed faucibus. Duis bibendum ac ex vehicula laoreet.\n              Suspendisse congue vulputate lobortis. Pellentesque at interdum\n              tortor. Quisque arcu quam, malesuada vel mauris et, posuere\n              sagittis ipsum. Aliquam ultricies a ligula nec faucibus. In elit\n              metus, efficitur lobortis nisi quis, molestie porttitor metus.\n              Pellentesque et neque risus. Aliquam vulputate, mauris vitae\n              tincidunt interdum, mauris mi vehicula urna, nec feugiat quam\n              lectus vitae ex.{\" \"}\n            </p>\n            <p style={{ textAlign: \"left\", color: \"gray\" }}>\n              posted 1 minute ago\n            </p>\n          </Grid>\n        </Grid>\n      </Paper>\n    </div>\n            </>\n        )\n}"]},"metadata":{},"sourceType":"module"}