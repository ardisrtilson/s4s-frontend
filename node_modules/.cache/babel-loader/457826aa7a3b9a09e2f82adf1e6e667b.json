{"ast":null,"code":"var _jsxFileName = \"/Users/ardisred/Workspace/samples4singles/s4s-frontend/src/components/crushes/Crushes.js\";\n// Organized\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { SampleContext } from \"../sample/SampleProvider\";\nimport { CrushPanel } from \"./CrushPanel\";\nimport \"./Samples.css\";\nimport 'react-h5-audio-player/lib/styles.css';\nexport const Crushes = props => {\n  useEffect(() => {\n    getSamples();\n    getFavorites();\n  }, []);\n  const {\n    users,\n    addFavorites,\n    favorites,\n    releaseFavorite,\n    getFavorites,\n    getSamples\n  } = useContext(SampleContext);\n  const currentUser = parseInt(localStorage.getItem(\"user_number\"));\n  let thisUserFavorites = favorites.filter(faves => faves.user_id === parseInt(currentUser));\n  let foundFave = thisUserFavorites.find(fave => fave.sample_id === sample.id);\n\n  if (foundFave === undefined) {\n    foundFave = false;\n  }\n\n  let isFavorite = foundFave.user_id === currentUser;\n  const userName = users.find(customer => customer.id === sample.customerId) || {};\n\n  const downloadFile = () => {\n    window.location.href = sample.url;\n  };\n\n  const addSampleToFavorites = () => {\n    addFavorites({\n      user: parseInt(localStorage.getItem(\"user_number\")),\n      sample: sample.id\n    });\n  };\n\n  const removeFavorite = () => {\n    releaseFavorite(foundFave.id).then(getFavorites);\n  };\n\n  if (isFavorite) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n      class: \"sampleCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link_card button4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/browse/${sample.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 38\n      }\n    }, sample.name)), /*#__PURE__*/React.createElement(AudioPlayer, {\n      preload: true,\n      src: sample.audio_url,\n      onPlay: e => console.log(\"onPlay\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button5\",\n      onClick: removeFavorite,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, \"Remove Favorite\"), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button3\",\n      onClick: downloadFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, \"Download Sample\")));\n  } else {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      class: \"sampleCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link_card button4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/browse/${sample.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 38\n      }\n    }, sample.name)), /*#__PURE__*/React.createElement(AudioPlayer, {\n      preload: true,\n      src: sample.audio_url,\n      onPlay: e => console.log(\"onPlay\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button2\",\n      onClick: addSampleToFavorites,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, \"Add Favorite\"), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button3\",\n      onClick: downloadFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, \"Download Sample\"));\n  }\n};","map":{"version":3,"sources":["/Users/ardisred/Workspace/samples4singles/s4s-frontend/src/components/crushes/Crushes.js"],"names":["React","useContext","useEffect","useState","SampleContext","CrushPanel","Crushes","props","getSamples","getFavorites","users","addFavorites","favorites","releaseFavorite","currentUser","parseInt","localStorage","getItem","thisUserFavorites","filter","faves","user_id","foundFave","find","fave","sample_id","sample","id","undefined","isFavorite","userName","customer","customerId","downloadFile","window","location","href","url","addSampleToFavorites","user","removeFavorite","then","name","audio_url","e","console","log"],"mappings":"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","sourcesContent":["// Organized\nimport React, { useContext, useEffect, useState } from \"react\"\nimport { SampleContext } from \"../sample/SampleProvider\"\nimport { CrushPanel } from \"./CrushPanel\"\nimport \"./Samples.css\"\nimport 'react-h5-audio-player/lib/styles.css'\n\n\nexport const Crushes = (props) => {\n\n    useEffect(() => {\n        getSamples()\n        getFavorites()\n      }, [])\n    \n      const { users, addFavorites, favorites, releaseFavorite, getFavorites, getSamples} = useContext(SampleContext)\n      const currentUser = parseInt(localStorage.getItem(\"user_number\"))\n      let thisUserFavorites = favorites.filter(faves => faves.user_id === parseInt(currentUser))\n      let foundFave = thisUserFavorites.find(fave => fave.sample_id === sample.id)\n      if (foundFave === undefined) {foundFave= false}\n      let isFavorite = foundFave.user_id === currentUser\n      const userName = users.find(customer => customer.id === sample.customerId) || {}\n    \n            const downloadFile = () => {\n              window.location.href = sample.url\n            }\n            const addSampleToFavorites = () => {\n              addFavorites({\n                user: parseInt(localStorage.getItem(\"user_number\")),\n                sample: sample.id\n            })\n            }\n            const removeFavorite = () => {\n              releaseFavorite(foundFave.id).then(getFavorites)\n            }\n    \n    if (isFavorite){\n    return (\n    <>\n    <section class=\"sampleCard\">\n      <div class=\"link_card button4\"><Link to={`/browse/${sample.id}`}>{sample.name}</Link></div>\n            <AudioPlayer \n                preload\n                src={sample.audio_url}\n                onPlay={e => console.log(\"onPlay\")}/>\n            <button class=\"button5\" onClick={removeFavorite}>Remove Favorite</button>\n            <button class=\"button3\" onClick={downloadFile}>Download Sample</button>\n    </section>\n    </>\n    )}\n    \n    else{\n    return (\n    <section class=\"sampleCard\">\n      <div class=\"link_card button4\"><Link to={`/browse/${sample.id}`}>{sample.name}</Link></div>\n            <AudioPlayer \n                preload\n                src={sample.audio_url}\n                onPlay={e => console.log(\"onPlay\")}/>\n            <button class=\"button2\" onClick={addSampleToFavorites}>Add Favorite</button>\n            <button class=\"button3\" onClick={downloadFile}>Download Sample</button>\n    </section>\n      )}\n    }"]},"metadata":{},"sourceType":"module"}