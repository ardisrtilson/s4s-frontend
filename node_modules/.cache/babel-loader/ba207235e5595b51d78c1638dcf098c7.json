{"ast":null,"code":"var _jsxFileName = \"/Users/ardisred/Workspace/samples4singles/s4s-frontend/src/components/sample/SampleList.js\";\n// Organized\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { SampleContext } from \"./SampleProvider\";\nimport { Sample } from \"./Sample\";\nimport WaveSurfer from \"wavesurfer.js\";\nimport \"./Samples.css\";\nexport const SampleList = props => {\n  // const waveformRef = useRef(null);\n  // useEffect(() => {\n  //   waveformRef.current = WaveSurfer.create({ \n  //     container: waveformRef.current,\n  //     cursorColor: \"transparent\",\n  //     backgroundColor: \"black\"\n  //   });\n  //   waveformRef.current.load('http://ia902606.us.archive.org/35/items/shortpoetry_047_librivox/song_cjrg_teasdale_64kb.mp3')\n  //   waveformRef.current.setWaveColor(\"red\")\n  // }, []);\n  // Context\n  const {\n    getSamples,\n    samples,\n    getUsers,\n    user,\n    getUserById,\n    users,\n    favorites,\n    getFavorites,\n    releaseSample\n  } = useContext(SampleContext); // Hooks\n\n  useEffect(() => {\n    getSamples();\n    getUsers();\n    getUserById(currentUser);\n    getFavorites();\n    console.log(user.id, samples);\n  }, []); // JSX\n\n  const currentUser = parseInt(localStorage.getItem(\"user_number\"));\n  let thisUserFavorites = favorites.filter(faves => faves.user_id === parseInt(currentUser));\n  let foundFave = thisUserFavorites.find(fave => fave.sample_id === sample.id);\n\n  if (foundFave === undefined) {\n    foundFave = false;\n  }\n\n  const userName = users.find(customer => customer.id === sample.customerId) || {};\n\n  const downloadFile = () => {\n    window.location.href = sample.audio_url;\n  };\n\n  const deleteSample = sampleId => {\n    releaseSample(sampleId);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n    class: \"img\",\n    src: user.profile_image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"samples\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"sampleCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), samples.map(sample => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n      class: \"img\",\n      src: sample.sample_image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"link_card button4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/browse/${sample.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 56\n      }\n    }, sample.name)), /*#__PURE__*/React.createElement(AudioPlayer, {\n      preload: \"true\",\n      src: sample.audio_url,\n      onPlay: e => console.log(\"onPlay\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button3\",\n      onClick: downloadFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }, \"Download Sample\"), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button3\",\n      onClick: () => deleteSample(sample.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 33\n      }\n    }, \"Delete Sample\")));\n  })));\n};","map":{"version":3,"sources":["/Users/ardisred/Workspace/samples4singles/s4s-frontend/src/components/sample/SampleList.js"],"names":["React","useContext","useEffect","useState","SampleContext","Sample","WaveSurfer","SampleList","props","getSamples","samples","getUsers","user","getUserById","users","favorites","getFavorites","releaseSample","currentUser","console","log","id","parseInt","localStorage","getItem","thisUserFavorites","filter","faves","user_id","foundFave","find","fave","sample_id","sample","undefined","userName","customer","customerId","downloadFile","window","location","href","audio_url","deleteSample","sampleId","profile_image","map","sample_image","name","e"],"mappings":"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","sourcesContent":["// Organized\nimport React, { useContext, useEffect, useState } from \"react\"\nimport { SampleContext } from \"./SampleProvider\"\nimport { Sample } from \"./Sample\"\nimport WaveSurfer from \"wavesurfer.js\";\nimport \"./Samples.css\"\n\nexport const SampleList = (props) => {\n\n      // const waveformRef = useRef(null);\n\n\n  // useEffect(() => {\n  //   waveformRef.current = WaveSurfer.create({ \n  //     container: waveformRef.current,\n  //     cursorColor: \"transparent\",\n  //     backgroundColor: \"black\"\n  //   });\n  //   waveformRef.current.load('http://ia902606.us.archive.org/35/items/shortpoetry_047_librivox/song_cjrg_teasdale_64kb.mp3')\n  //   waveformRef.current.setWaveColor(\"red\")\n  // }, []);\n    // Context\n\n    const { \n        getSamples,\n        samples, \n        getUsers,\n        user,\n        getUserById,\n        users, \n        favorites, \n        getFavorites, \n        releaseSample\n    } = useContext(SampleContext)\n\n    // Hooks\n\n    useEffect(() => {\n        getSamples()\n        getUsers()\n        getUserById(currentUser)\n        getFavorites()\n        console.log(user.id, samples)\n    }, [])\n\n    // JSX\n\n  const currentUser = parseInt(localStorage.getItem(\"user_number\"))\n  let thisUserFavorites = favorites.filter(faves => faves.user_id === parseInt(currentUser))\n  let foundFave = thisUserFavorites.find(fave => fave.sample_id === sample.id)\n  if (foundFave === undefined) {foundFave= false}\n  const userName = users.find(customer => customer.id === sample.customerId) || {}\n\n        const downloadFile = () => {\n          window.location.href = sample.audio_url\n        }\n        const deleteSample = (sampleId) => {\n          releaseSample(sampleId)\n        }\n\n        return (\n            <>\n            <img class=\"img\" src={user.profile_image}></img>\n            <div className=\"samples\">\n                <div class=\"sampleCard\">\n                        </div> \n                {\n                    samples.map(sample => {\n                        return(\n                        <>\n                        <img class=\"img\" src={sample.sample_image}></img>\n                        <section>\n                        <div class=\"link_card button4\"><Link to={`/browse/${sample.id}`}>{sample.name}</Link></div>\n                        {/* <div ref={waveformRef} /> */}\n                                <AudioPlayer \n                                    preload=\"true\"\n                                    src={sample.audio_url}\n                                    onPlay={e => console.log(\"onPlay\")}/>\n                                <button class=\"button3\" onClick={downloadFile}>Download Sample</button>\n                                <button class=\"button3\" onClick={()=> deleteSample(sample.id)}>Delete Sample</button>\n                        </section>\n                        </>\n                        )\n                    })\n                }\n            </div> \n            </>\n        )\n}"]},"metadata":{},"sourceType":"module"}